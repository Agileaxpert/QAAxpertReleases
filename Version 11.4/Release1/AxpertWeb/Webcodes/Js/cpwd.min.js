/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function LoadParentHome(){url=window.parent.location,-1==url.toString().toLowerCase().indexOf("cpwd.aspx")&&window.parent.loadHome()}function closeDialog(e,t){parent.$("#divModalChangePassword, #divModalChangePassword+.modal-backdrop").hide(),parent.showAlertDialog("success",e);var a=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));setTimeout(function(){setTimeout(function(){parent.window.location.href=a+t},0)},200)}var myVersionJSON;$(document).ready(function(){$(".toggle-password").click(function(){$(this).toggleClass("fa-eye fa-eye-slash");var e=$($(this).attr("toggle"));"password"==e.attr("type")?(e.attr("type","text"),$(this).text("visibility"),$(this).css("color","#999")):(e.attr("type","password"),$(this).text("visibility_off"),$(this).css("color","#999"))}),"undefined"!=typeof hdnencryptkey.value&&"true"==hdnencryptkey.value?($("#Label2").length>0&&$("#Label2").append('<span class="material-icons material-icons-style align-middle material-icons-3 cursor-pointer" title="Password should be Alphanumeric. Must contains one Upper Character, one Lower Character/Number with at least one special character.">info</span>'),$("#lblnewpwd").length>0&&$("#lblnewpwd").append('<span class="material-icons material-icons-style align-middle material-icons-3 cursor-pointer" title="Password should be Alphanumeric. Must contains one Upper Character, one Lower Character/Number with at least one special character.">info</span>')):"undefined"!=typeof hdnalphanumeric.value&&"True"==hdnalphanumeric.value&&($("#Label2").length>0&&$("#Label2").append('<span class="material-icons material-icons-style align-middle material-icons-3 cursor-pointer" title="Password should be Alphanumeric. Must contains one Upper Character, one Lower Character/Number with at least one special character.">info</span>'),$("#lblnewpwd").length>0&&$("#lblnewpwd").append('<span class="material-icons material-icons-style align-middle material-icons-3 cursor-pointer" title="Password should be Alphanumeric. Must contains one Upper Character, one Lower Character/Number with at least one special character.">info</span>'));try{GetOtpErrorMsg()}catch(ex){}function setFocusThickboxIframe(){$("#existingPwd").focus()}checkSuccessAxpertMsg(),setTimeout(setFocusThickboxIframe,200),$("#btnModalClose").hide();var chpdRemark=new URL(location.href).searchParams.get("remark");setTimeout(function(){"chpwd"==cpwdRemark?(modalHeader=eval(callParent("divModalHeader","id")+".getElementById('divModalHeader')"),modalHeader.innerText=eval(callParent("lcm[252]")),$("#btnClose").prop("title",eval(callParent("lcm[192]"))).text(eval(callParent("lcm[192]"))),$("#main_body").css("background",""),$("#btnModalClose").addClass("d-none"),tabFocusEvent()):$("#spnCpwdHeading").text(eval(callParent("lcm[252]"))),"undefined"!=typeof hdnpwdPolicy.value&&""!=hdnpwdPolicy.value?$("#btnSumit").prop({title:eval(callParent("lcm[299]")),value:eval(callParent("lcm[299]"))}):$("#btnSumit").prop({title:eval(callParent("lcm[200]")),value:eval(callParent("lcm[200]"))})},100),$j("#breadcrumb-panel").css("display","none"),b(),$("#confirmPwd").keypress(function(e){13==e.which&&($("#npwdHidden").val(this.value),$("#swc000F0").val(md5authNew(this.value)))}),$j("#axpertVer").length>0&&AddVerion(),setTimeout(function(){$("#existingPwd").focus()},500),$(".field-wrapper .field-placeholder").on("click",function(){$(this).closest(".field-wrapper").find("input").focus()}),$(".field-wrapper input").on("click",function(){$(this).closest(".field-wrapper").addClass("hasValue")}),$("#confirmPwd, #newPwd, #existingPwd").on("keyup",function(){$.trim($(this).val())?$(this).closest(".field-wrapper").addClass("hasValue"):$(this).closest(".field-wrapper").removeClass("hasValue"),$j("#axSelectProj").is(":visible")&&""!=$j("#axSelectProj").val()&&$j("#axSelectProj").closest(".field-wrapper").addClass("hasValue"),$j("#language").is(":visible")&&""!=$j("#language").val()&&$j("#language").closest(".field-wrapper").addClass("hasValue")}),$(".field-wrapper input").each(function(){$.trim($(this).val())?$(this).closest(".field-wrapper").addClass("hasValue"):$(this).closest(".field-wrapper").removeClass("hasValue")}),setProjectImages(proj)});var versionInfoFile="../versionInfo.json";function AddVerion(){try{if("undefined"!=typeof Storage)if(localStorage["versionInfo-"+appUrl]){var e=JSON.parse(localStorage["versionInfo-"+appUrl]);Date.parse(e.expiry)>new Date?myVersionJSON=e.value:(getVersionDetails(),location.reload(!0))}else getVersionDetails();else getVersionDetails()}catch(t){getVersionDetails()}void 0!==myVersionJSON&&setVersionInfo()}function getVersionDetails(){$.ajax({url:versionInfoFile,type:"GET",statusCode:{404:function(){$.getJSON(versionInfoFile,function(e){})}},success:function(e){var t={value:e,expiry:addDays(new Date,.3)};try{"undefined"!=typeof Storage&&(localStorage["versionInfo-"+appUrl]=JSON.stringify(t))}catch(a){}myVersionJSON=t.value,setVersionInfo()}})}function addDays(e,t){return new Date(e.getTime()+24*t*60*60*1e3)}function setVersionInfo(){var e,t="";e=myVersionJSON.version,myVersionJSON.subVersion&&(t="_"+myVersionJSON.subVersion.toString());var a;a="Version "+e+t,$j("#axpertVer").text(a)}function tabFocusEvent(){try{modalButton=eval(callParent("btnModalClose","id")+".getElementById('btnModalClose')"),-1==modalButton.className.indexOf("firstFocusable")&&(modalButton.className+=" firstFocusable"),$("#btnClose").addClass("lastFocusable").focus(),$(".lastFocusable").on("keydown.tabRot",function(e){9!==e.which||e.shiftKey||(e.preventDefault(),modalButton.focus())}),modalButton.addEventListener("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),$(".lastFocusable").focus())})}catch(ex){}}function displayAlertMsgOnParent(){$(".shortMessageWrapper").appendTo(parent.$("#divModalChangePassword .modal-body")),setTimeout(function(){parent.hideAlertDialog("")},3e3),"undefined"!=typeof isMobile&&isMobile&&setTimeout(function(){hideKeyboard()},0)}function hideKeyboard(){document.activeElement.blur()}function setProjectImages(e){var t="../images/loginlogo.png",a="../AxpImages/login-img.png",o="../AxpImages/login-img.png",n=$(".form-title img"),r=$("body"),s=$("body");"undefined"!=typeof cpwdRemark&&"chpwd"!=cpwdRemark&&(e?getProjectAppLogo(e,async=!0,function(e){if(null!=e&&e.d){var i=JSON.parse(e.d),l=i.logo,c=i.webbg,d=i.mobbg;c&&!d&&(d=c),n.prop("src",l?"".concat(l,"?v=").concat((new Date).getTime()):t),isMobile?s.css("background","url(".concat(d?"".concat(d,"?v=").concat((new Date).getTime()):o,"?v=").concat((new Date).getTime(),") ").concat(d?"no-repeat center center fixed":"no-repeat fixed bottom")).css("background-size","cover"):r.css("background","url(".concat(c?"".concat(c,"?v=").concat((new Date).getTime()):a,") ").concat(c?"no-repeat center center fixed":"no-repeat fixed bottom")).css("background-size","cover")}else n.prop("src",t),isMobile?s.css("background","url(".concat(o,"?v=").concat((new Date).getTime(),") no-repeat fixed bottom ")).css("background-size","cover"):r.css("background","url(".concat(a,") no-repeat fixed bottom")).css("background-size","cover")},function(e){n.prop("src",t),isMobile?s.css("background","url(".concat(o,"?v=").concat((new Date).getTime(),") no-repeat fixed bottom")).css("background-size","cover"):r.css("background","url(".concat(a,") no-repeat fixed bottom")).css("background-size","cover")}):(n.prop("src",t),isMobile?s.css("background","url(".concat(o,"?v=").concat((new Date).getTime(),") no-repeat fixed bottom")).css("background-size","cover"):r.css("background","url(".concat(a,") no-repeat fixed bottom")).css("background-size","cover")))}function chngPwdOtpExpires(e,t){$("#dvChngPwd").addClass("d-none"),_isOtpAuth=!0,function(e){var a=new Date(Date.now()+6e4*e),o=document.getElementById("lblotpexpiry");function n(){var e=new Date,n=Math.floor((a-e)/1e3);if(n>0){var s=Math.floor(n/60),i=s<10?"0"+s:s,l=n-60*s,c=l<10?"0"+l:l;o.textContent=""!=t?"OTP will expire in ".concat(i,":").concat(c," min ( ").concat(t,")"):"OTP will expire in ".concat(i,":").concat(c," min (Sent to your registered email)")}else clearInterval(r),o.textContent=""!=t?"OTP has expired ( ".concat(t,")"):"OTP has expired (Sent to your registered email)",$("#btnResendotp").removeClass("d-none")}n();var r=setInterval(n,1e3)}(e)}function backToPwdDiv(){window.document.location.href=window.document.location.href}function chnPwdoptauth(){if(""==$j("#axOTPpwd").val())return showAlertDialog("error",callParentNew("lcm")[530]),$j("#axOTPpwd").focus(),!1;$.ajax({type:"POST",url:"cpwd.aspx/chkOtppwd",data:'{stsotpauth: "'+$j("#axOTPpwd").val()+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){"success"==e.d?$("#btnOTPpwdChange").click():"InvalidOTP"==e.d?showAlertDialog("error","Invalid OTP"):"OTPexpired"==e.d?showAlertDialog("error","OTP expired"):"PleaseenterOTP"==e.d?showAlertDialog("error","Please enter OTP"):"InvalidUser"==e.d&&showAlertDialog("error","Invalid User")},failure:function(e){showAlertDialog("error",e.d)}})}function btnResendOTP(){try{$("#axOTPpwd").attr("required",!1),$("#btnResendOtp").click()}catch(e){}}function SetOtpErrorMsg(e){var t=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));localStorage["lnmsgpwdchng-"+t]=e,top.window.location.href=top.window.location.href}function GetOtpErrorMsg(){var e=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),t=localStorage["lnmsgpwdchng-"+e];localStorage["lnmsgpwdchng-"+e]&&localStorage.removeItem("lnmsgpwdchng-"+e),void 0!==t&&""!=t&&setTimeout(function(){showAlertDialog("error",t)},0)}